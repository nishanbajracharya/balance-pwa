(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(36),o=n.n(c),l=n(4),i=n(5),s=n(7),u=n(6),p=n(8),d=n(12),f=n(40),m=n(10),v=n(41),h=n.n(v),b=n(32),E=n(26),O=n(15),y=n(13),j=n(24),g=n.n(j),w=n(31),N=n.n(w),C={current:0,initial:0,expenses:0,data:{},list:[]},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.list.filter(function(t){return N()(e.data[t].addedDate)}),a=n[n.length-1];return n.length?e.data[a].value:t},x={data:{},list:[]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSE":var n=g()();return Object(y.a)({},e,{data:Object(y.a)({},e.data,Object(O.a)({},n,Object(y.a)({},t.payload,{addedDate:(new Date).toISOString()}))),list:[n].concat(Object(E.a)(e.list))});default:return e}},B=Object(m.b)({balance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_INITIAL_BALANCE_FOR_MONTH":return Object(y.a)({},e,{initial:k(e,0)});case"ADD_BALANCE":var n=g()(),a=e.list.filter(function(t){return N()(e.data[t].addedDate)});return Object(y.a)({},e,{current:e.current+t.payload.value,initial:k(e,t.payload.value),data:Object(y.a)({},e.data,Object(O.a)({},n,Object(y.a)({},t.payload,{addedDate:(new Date).toISOString()}))),list:[n].concat(Object(E.a)(a))});case"ADD_EXPENSE":return Object(y.a)({},e,{expenses:e.expenses+t.payload.value,current:e.current-t.payload.value});default:return e}},expense:A}),S={key:"root",storage:h.a},_=Object(b.a)(S,B),D=Object(m.c)(_,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),I=Object(b.b)(D),R=n(103),L=n(104),T=n(42),P=n.n(T),W=n(43),F=n.n(W),V=n(11),X=n.n(V);function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var M=r.a.createElement("path",{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"}),U=function(e){return r.a.createElement("svg",q({viewBox:"0 0 512 512"},e),M)};n.p;function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var H=r.a.createElement("path",{d:"M492 257.1c-2.6-2.6-6-4-9.6-4-3.6 0-7 1.4-9.6 4l-13 13c4.3-61.8-19.5-122.5-65.3-165C356.9 70.2 307.7 51 256.1 51c-26.7 0-52.8 5.1-77.4 15.1-25.5 10.4-48.3 25.6-67.7 45.3-13.2 13.4-24.6 28.5-33.6 44.8-1.9 3.4-2.3 7.4-1.2 11.1 1.1 3.7 3.8 6.8 7.2 8.5 2 1 4.2 1.5 6.4 1.5 5.2 0 9.9-2.8 12.4-7.3 7.9-14.3 17.8-27.5 29.4-39.1 16.8-16.8 36.3-29.8 58.1-38.7 21.1-8.6 43.4-12.9 66.2-12.9 22.9 0 45.2 4.3 66.3 12.9 21.8 8.9 41.4 21.9 58.2 38.8 20.3 20.4 35.4 45.6 43.8 73 7 22.9 9.2 47.3 6.6 71.2l-18.9-18.5c-2.5-2.4-5.8-3.8-9.3-3.8-3.5 0-6.9 1.4-9.4 3.9-5.2 5.2-5.2 13.6 0 18.8l42.8 42.9c1.9 1.9 4.4 2.9 7 2.9 2.6 0 5.1-1 7-2.9l42.1-42.2c5.2-5.3 5.2-13.9-.1-19.2zM428.6 335.9c-2-1-4.2-1.5-6.4-1.5-5.2 0-9.9 2.8-12.4 7.3-7.9 14.3-17.8 27.5-29.4 39.1-16.8 16.8-36.3 29.9-58.2 38.7-21.1 8.6-43.4 12.9-66.3 12.9s-45.2-4.3-66.2-12.9c-21.8-8.9-41.4-21.9-58.2-38.7-37.6-37.8-56-90.9-50.3-143.9l18.4 18.5c2.4 2.4 5.6 3.7 9 3.7 3.4 0 6.6-1.3 9-3.7l1.3-1.3c4.9-4.9 4.9-13 0-17.9l-42.9-43c-1.9-1.9-4.4-2.9-7-2.9-2.6 0-5.1 1-7 2.9l-42 42.3c-5.3 5.3-5.3 13.9 0 19.2 2.6 2.6 6 4 9.6 4 3.6 0 7-1.4 9.6-4l13-13.1c-1.8 25.8 1.3 52 9 76.5 9.9 31.4 26.8 59.3 50.3 82.8 19.5 19.6 42.2 34.7 67.6 45.1 24.5 10 50.4 15 76.9 15 26.5 0 52.4-5.1 76.9-15 25.4-10.3 48.1-25.5 67.6-45.1 13.5-13.5 25-28.8 34.2-45.4 1.9-3.4 2.3-7.4 1.2-11.1-1.2-3.7-3.8-6.8-7.3-8.5z"}),J=function(e){return r.a.createElement("svg",z({viewBox:"0 0 512 512"},e),H)},$=(n.p,function(e){var t=e.sync,n=void 0!==t&&t,a=e.back,c=void 0!==a&&a,o=e.title,l=void 0===o?"Balance":o,i=e.onRequestClose,s=void 0===i?function(e){return e}:i;return r.a.createElement("div",{className:"appbar"},c&&r.a.createElement(U,{onClick:s}),r.a.createElement("p",{className:X()("app-title",{back:c,sync:n})},l),n&&r.a.createElement(J,null))}),G="/",K="/expense/add",Q="/balance/add",Y=function(e){var t=e.label,n=e.primary,a=e.secondary,c=e.onClick,o=void 0===c?function(e){return e}:c;return r.a.createElement("button",{onClick:o,className:X()("button",{primary:n,secondary:a})},t)},Z=n(16),ee=n(44),te=n.n(ee),ne=n(45),ae=n(25),re=n.n(ae),ce=function(e){var t=e.value,n=void 0===t?0:t,a=e.className,c=void 0===a?"":a,o=e.title,l=void 0===o?"Balance":o;return r.a.createElement("div",{className:X()("card",c)},r.a.createElement("p",{className:"card-title"},l),r.a.createElement("p",{className:"card-value"},"Rs ",re()(n).format("0,0")))},oe=Object(ne.virtualize)(te.a);var le=Object(d.b)(function(e){return{balance:e.balance}})(function(e){var t=e.balance;return r.a.createElement(oe,{className:"card-swipe",slideRenderer:function(e){return function(e,t){var n=e.index,a=e.key;switch(Object(Z.mod)(n,3)){case 0:return r.a.createElement(ce,{key:a,title:"Balance",value:t.current,className:"balance"});case 1:return r.a.createElement(ce,{key:a,title:"Expenses",value:t.expenses,className:"expenses"});case 2:return r.a.createElement(ce,{key:a,title:"Initial",value:t.initial,className:"initial"});default:return null}}(e,t)}})}),ie=function(e){var t=e.title,n=void 0===t?"":t,a=e.value,c=void 0===a?"":a;return r.a.createElement("li",{className:"expense-item"},r.a.createElement("span",{className:"expense-title"},n),r.a.createElement("span",{className:"expense-value"},"Rs ",re()(c).format("0,0")))},se=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=F()(new Date);P()(e,new Date)&&this.props.resetInitialBalance()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement($,{sync:!0}),r.a.createElement(le,null),r.a.createElement("p",{className:"expense-section-title"},"Recent Expenses"),r.a.createElement("ul",{className:"expense-section"},this.props.expense.list.slice(0,5).map(function(t,n){return r.a.createElement(ie,{key:n,title:e.props.expense.data[t].title,value:e.props.expense.data[t].value})}),0===this.props.expense.list.length&&r.a.createElement("li",{className:"expense-item center empty"},"Nothing to show")),this.props.expense.list.length>0&&r.a.createElement("p",{className:"expense-section-more"},"more"),r.a.createElement("div",{className:"button-container"},r.a.createElement(Y,{primary:!0,label:"Add Expense",onClick:function(){return e.props.history.push(K)}}),r.a.createElement(Y,{secondary:!0,label:"Add Balance",onClick:function(){return e.props.history.push(Q)}})))}}]),t}(r.a.PureComponent),ue=Object(d.b)(function(e){return{expense:e.expense}},function(e){return{resetInitialBalance:function(){return e({type:"RESET_INITIAL_BALANCE_FOR_MONTH"})}}})(se),pe=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).onFocus=function(t){e.props.onFocus(t),e.setState({focused:!0,touched:!0})},e.onBlur=function(t){e.props.onBlur(t),e.setState({focused:!1})},e.onInput=function(t){e.props.onInput(t),e.props.onValueChange(t.target.value),e.setState({edited:!0,value:t.target.value})},e.state={edited:!1,focused:!1,touched:!1,value:void 0},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("input",{onBlur:this.onBlur,type:this.props.type,onFocus:this.onFocus,onInput:this.onInput,value:this.state.value,placeholder:this.props.placeholder,className:X()("input",Object(O.a)({},this.props.activeClassName,this.state.focused))})}}]),t}(r.a.PureComponent);pe.defaultProps={onBlur:function(e){return e},onFocus:function(e){return e},onInput:function(e){return e},onValueChange:function(e){return e},activeClassName:"active"};var de=n(46),fe=n.n(de),me=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleClose=function(){e.setState({close:!0});var t=setTimeout(function(){e.props.onRequestClose(),clearTimeout(t)},140)},e.state={close:!1},e.handleClose=fe()(e.handleClose,150,{leading:!0,trailing:!1}),e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:X()("fullscreen-page",{close:this.state.close})},r.a.createElement($,{back:!0,onRequestClose:this.handleClose,title:this.props.title}),this.props.children)}}]),t}(r.a.Component);me.defaultProps={onRequestClose:function(e){return e}};var ve=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleAddExpense=function(t,n){t&&e.props.addExpense(t,n),e.fs.handleClose()},e.state={value:0,title:void 0},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(me,{ref:function(t){return e.fs=t},onRequestClose:function(){return e.props.history.goBack()},title:"Add Expense"},r.a.createElement("div",{className:"input-container"},r.a.createElement("p",{className:"input-container-title"},"Add what you spent on and your expenses."),r.a.createElement(pe,{type:"number",placeholder:"How much did you spend?",onValueChange:function(t){return e.setState({value:parseInt(t)})}}),r.a.createElement(pe,{placeholder:"What did you spend on?",onValueChange:function(t){return e.setState({title:t})}})),r.a.createElement("div",{className:"button-container"},r.a.createElement(Y,{primary:!0,label:"Submit",onClick:function(){return e.handleAddExpense(e.state.value,e.state.title)}}),r.a.createElement(Y,{secondary:!0,label:"Cancel",onClick:function(){return e.fs.handleClose()}})))}}]),t}(r.a.PureComponent),he=Object(d.b)(function(e){return{balance:e.balance}},function(e){return{addExpense:function(t,n){return e(function(e){return{type:"ADD_EXPENSE",payload:{value:e,title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Expense"}}}(t,n))}}})(ve),be=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleAddBalance=function(t){t&&e.props.addBalance(t),e.fs.handleClose()},e.state={value:0},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(me,{ref:function(t){return e.fs=t},onRequestClose:function(){return e.props.history.goBack()},title:"Add Balance"},r.a.createElement("div",{className:"input-container"},r.a.createElement("p",{className:"input-container-title"},"Add some amount to your current balance."),r.a.createElement(pe,{type:"number",placeholder:"How much do you want to add?",onValueChange:function(t){return e.setState({value:parseInt(t)})}}),r.a.createElement(ie,{title:"Current Balance",value:this.props.balance.current}),r.a.createElement(ie,{title:"New Balance",value:this.props.balance.current+this.state.value})),r.a.createElement("div",{className:"button-container"},r.a.createElement(Y,{primary:!0,label:"Submit",onClick:function(){return e.handleAddBalance(e.state.value)}}),r.a.createElement(Y,{secondary:!0,label:"Cancel",onClick:function(){return e.fs.handleClose()}})))}}]),t}(r.a.PureComponent),Ee=Object(d.b)(function(e){return{balance:e.balance}},function(e){return{addBalance:function(t){return e(function(e){return{type:"ADD_BALANCE",payload:{value:e,title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Balance"}}}(t))}}})(be),Oe=function(){return r.a.createElement(R.a,null,r.a.createElement("div",{className:"route-container"},r.a.createElement(L.a,{path:G,component:ue}),r.a.createElement(L.a,{path:K,component:he}),r.a.createElement(L.a,{path:Q,component:Ee})))},ye=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:D},r.a.createElement(f.a,{loading:null,persistor:I},r.a.createElement(Oe,null)))}}]),t}(a.Component),je=(n(81),n(83),n(85),n(87),n(89),n(91),n(93),n(95),n(97),n(99),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function ge(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(ye,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/balance-pwa",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/balance-pwa","/service-worker.js");je?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ge(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ge(t,e)})}}()},48:function(e,t,n){e.exports=n(101)},81:function(e,t,n){},83:function(e,t,n){},85:function(e,t,n){},87:function(e,t,n){},89:function(e,t,n){},91:function(e,t,n){},93:function(e,t,n){},95:function(e,t,n){},97:function(e,t,n){},99:function(e,t,n){}},[[48,2,1]]]);
//# sourceMappingURL=main.80721b0c.chunk.js.map